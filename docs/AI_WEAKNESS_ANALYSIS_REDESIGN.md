# AI ì·¨ì•½ì  ë¶„ì„ ì‹œìŠ¤í…œ ì¬ì„¤ê³„ ê³„íšì„œ

**ì‘ì„±ì¼**: 2026-01-21  
**ëª©ì **: ê¸°ì¡´ ì˜¤ë‹µ ì¤‘ì‹¬ ë¶„ì„ â†’ ëª©í‘œ ëŒ€ë¹„ ì„±ì·¨ë„ ê°­ ë¶„ì„ìœ¼ë¡œ ì „í™˜  
**ìƒíƒœ**: ğŸ“ ê³„íš ë‹¨ê³„ (ë‹¤ë“¬ëŠ” ì¤‘)

---

## ğŸ“‹ ëª©ì°¨

1. [í˜„ì¬ ì‹œìŠ¤í…œì˜ ë¬¸ì œì ](#1-í˜„ì¬-ì‹œìŠ¤í…œì˜-ë¬¸ì œì )
2. [ìƒˆë¡œìš´ ê¸°ì¤€ì  ì •ì˜](#2-ìƒˆë¡œìš´-ê¸°ì¤€ì -ì •ì˜)
3. [ë°ì´í„° êµ¬ì¡° ì„¤ê³„](#3-ë°ì´í„°-êµ¬ì¡°-ì„¤ê³„)
4. [ë¶„ì„ ë¡œì§ ì„¤ê³„](#4-ë¶„ì„-ë¡œì§-ì„¤ê³„)
5. [UI/UX ì„¤ê³„](#5-uiux-ì„¤ê³„)
6. [ë³´ì¶© ê³¼ì œ ìƒì„± ë¡œì§](#6-ë³´ì¶©-ê³¼ì œ-ìƒì„±-ë¡œì§)
7. [êµ¬í˜„ ê³„íš](#7-êµ¬í˜„-ê³„íš)

---

## 1. í˜„ì¬ ì‹œìŠ¤í…œì˜ ë¬¸ì œì 

### âŒ ê¸°ì¡´ ë°©ì‹ì˜ í•œê³„

```
í˜„ì¬ ë¡œì§:
Manager_Results â†’ incorrectQuestions ìˆ˜ì§‘ â†’ classification ì§‘ê³„ â†’ 3íšŒ ì´ìƒ í‹€ë¦° ìœ í˜• = ì·¨ì•½ì 
```

**ë¬¸ì œì **:
1. **ì˜¤ë‹µë§Œ ì§‘ê³„** â†’ ê³„ì† ì•½ì ë§Œ ê°•ì¡°
2. **ëª©í‘œ ëŒ€ë¹„ ì„±ì·¨ë„ ë¬´ì‹œ** â†’ ì˜í•˜ëŠ” íŒŒíŠ¸ë„ í‹€ë¦¬ë©´ ì·¨ì•½ì ìœ¼ë¡œ í‘œì‹œ
3. **ì „ì²´ ëª©í‘œ ì„±ì ê³¼ì˜ ì—°ê³„ ë¶€ì¡±** â†’ í•™ìƒì´ ì„¤ì •í•œ ëª©í‘œì™€ ë¬´ê´€í•˜ê²Œ ë¶„ì„
4. **ê°œì„  ë°©í–¥ ë¶ˆëª…í™•** â†’ "ì´ ìœ í˜•ì„ ë§ì´ í‹€ë ¸ë‹¤"ë§Œ ì•Œë ¤ì¤Œ

### ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤

```
í•™ìƒ Aì˜ ìƒí™©:
- ëª©í‘œ: Part 5 20ê°œ ì •ë‹µ
- í˜„ì¬ í‰ê· : 18ê°œ ì •ë‹µ (90% ë‹¬ì„±)
- Part 5ì—ì„œ 2ê°œ í‹€ë¦¼ (ë™ì‚¬í˜•íƒœ 1ê°œ, ì „ì¹˜ì‚¬ 1ê°œ)

vs

- ëª©í‘œ: Part 7 Single 25ê°œ ì •ë‹µ  
- í˜„ì¬ í‰ê· : 10ê°œ ì •ë‹µ (40% ë‹¬ì„±)
- Part 7ì—ì„œ 15ê°œ í‹€ë¦¼

ê¸°ì¡´ ì‹œìŠ¤í…œ: Part 5 ë™ì‚¬í˜•íƒœë¥¼ ì·¨ì•½ì ìœ¼ë¡œ í‘œì‹œ (3íšŒ ì´ìƒ í‹€ë¦¼)
â†’ ì‹¤ì œë¡œëŠ” Part 7ì´ ëª©í‘œ ëŒ€ë¹„ í›¨ì”¬ ë” ì‹¬ê°í•œ ìƒí™©!
```

---

## 2. ìƒˆë¡œìš´ ê¸°ì¤€ì  ì •ì˜

### âœ… ëª©í‘œ ëŒ€ë¹„ ê°­ ë¶„ì„ (Goal-Gap Analysis)

**í•µì‹¬ ê¸°ì¤€ì **: **ë‚˜ì˜ í•™ìŠµë°© > ë‚˜ì˜ ëª©í‘œ ìƒì„¸ í˜„í™©**

```
ì‹œìŠ¤í…œ í”Œë¡œìš°:

1. í•™ìƒì´ ëª©í‘œ ìˆ˜ì •í•˜ê¸° í´ë¦­
   â†“
2. ì›í•˜ëŠ” ì´ì  ì…ë ¥ (ì˜ˆ: 800ì )
   â†“
3. AI ì¶”ì²œ ë˜ëŠ” ìˆ˜ë™ ì„¤ì •ìœ¼ë¡œ RC/LC ëª©í‘œ ë°°ë¶„
   â†“
4. ê° íŒŒíŠ¸ë³„ ëª©í‘œ ì •ë‹µ ìˆ˜ ì„¤ì •
   â†“
5. ì‹¤ì „ ë¬¸ì œ íšŒì°¨ ì™„ë£Œ ì‹œë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸
   â†“
6. ëª©í‘œ ìƒì„¸ í˜„í™© í…Œì´ë¸” ì‹¤ì‹œê°„ ê°±ì‹ 
   - ì™¼ìª½: ëª©í‘œ ì •ë‹µ ìˆ˜
   - ì¤‘ê°„: í‰ê·  ì ìˆ˜ (ì™„ë£Œí•œ ì‹¤ì „ íšŒì°¨ ê¸°ì¤€)
   - ì˜¤ë¥¸ìª½: ìµœê·¼ ì ìˆ˜ (ë§ˆì§€ë§‰ ì™„ë£Œ íšŒì°¨)
   â†“
7. ê°€ì¥ ë¶€ì¡±í•œ íŒŒíŠ¸ ìë™ ì¶”ì²œ
```

### í•µì‹¬ ê°œë…

| í•­ëª© | ì„¤ëª… | ë°ì´í„° ì†ŒìŠ¤ | ì˜ˆì‹œ |
|------|------|------------|------|
| **ëª©í‘œ (Target)** | í•™ìƒì´ ì„¤ì •í•œ íŒŒíŠ¸ë³„ ì •ë‹µ ëª©í‘œ | `users.partTargets` | Part 5: 20ê°œ |
| **í‰ê·  (Average)** | ì™„ë£Œí•œ ì‹¤ì „ íšŒì°¨ì˜ í‰ê·  ì •ë‹µ ìˆ˜ | `Manager_Results` (ì‹¤ì „ íšŒì°¨ë§Œ) | Part 5: 10ê°œ |
| **ìµœê·¼ (Latest)** | ë§ˆì§€ë§‰ ì™„ë£Œ íšŒì°¨ì˜ ì •ë‹µ ìˆ˜ | `Manager_Results` (ìµœì‹  1ê±´) | Part 5: 12ê°œ |
| **ê°­ (Gap)** | ëª©í‘œ - í‰ê·  | ê³„ì‚°ê°’ | -10ê°œ |
| **ë‹¬ì„±ë¥  (Achievement)** | (í‰ê·  / ëª©í‘œ) Ã— 100 | ê³„ì‚°ê°’ | 50% |
| **ì·¨ì•½ íŒŒíŠ¸ (Weakest Part)** | ê°­ì´ ê°€ì¥ í° íŒŒíŠ¸ | ë¶„ì„ ê²°ê³¼ | Part 5 (-10ê°œ, 50%) |

### ì¤‘ìš”: ì‹¤ì „ íšŒì°¨ vs ê¸°íƒ€ í•™ìŠµ

- **ì‹¤ì „ íšŒì°¨**: íŒŒíŠ¸ë³„ 1~10íšŒì°¨ ì™„ë£Œ ê¸°ì¤€ â†’ **ëª©í‘œ ìƒì„¸ í˜„í™© ì—…ë°ì´íŠ¸**
- **ê¸°íƒ€ í•™ìŠµ**: ë‹¨ì–´ì¥, ë¬¸ë²• ë¯¸ì…˜, ë“œë¦´ ëª¨ë“œ â†’ ëª©í‘œ ìƒì„¸ í˜„í™©ì— ë°˜ì˜ ì•ˆ í•¨
- **ë³´ì¶© ê³¼ì œ íŒì •**: ì¼ì£¼ì¼ê°„ ëª¨ë“  í•™ìŠµ ë°ì´í„° (ì‹¤ì „ + ê¸°íƒ€) ì§‘ê³„

---

## 3. ë°ì´í„° êµ¬ì¡° ì„¤ê³„

### 3.1 ì‚¬ìš©ì ëª©í‘œ ë°ì´í„° (Firestore: `users` ì»¬ë ‰ì…˜)

```typescript
interface UserGoals {
  userId: string;
  
  // ì „ì²´ ëª©í‘œ
  targetScore: number;      // ì´ ëª©í‘œ ì ìˆ˜ (ì˜ˆ: 800ì )
  targetLC: number;         // LC ëª©í‘œ (ì˜ˆ: 450ì )
  targetRC: number;         // RC ëª©í‘œ (ì˜ˆ: 350ì )
  
  // ë ˆë²¨ í…ŒìŠ¤íŠ¸ ê¸°ì¤€ ì ìˆ˜
  levelTestScore: number;   // ë ˆë²¨ í…ŒìŠ¤íŠ¸ ì´ì 
  levelTestLC: number;      // ë ˆë²¨ í…ŒìŠ¤íŠ¸ LC ì ìˆ˜
  levelTestRC: number;      // ë ˆë²¨ í…ŒìŠ¤íŠ¸ RC ì ìˆ˜
  levelTestDate: Timestamp; // ë ˆë²¨ í…ŒìŠ¤íŠ¸ ì¼ì
  
  // íŒŒíŠ¸ë³„ ëª©í‘œ (ì •ë‹µ ê°œìˆ˜ ê¸°ì¤€)
  partTargets: {
    p1: number;             // Part 1 ëª©í‘œ (ì˜ˆ: 5ê°œ)
    p2: number;             // Part 2 ëª©í‘œ (ì˜ˆ: 20ê°œ)
    p3: number;             // Part 3 ëª©í‘œ (ì˜ˆ: 30ê°œ)
    p4: number;             // Part 4 ëª©í‘œ (ì˜ˆ: 25ê°œ)
    p5: number;             // Part 5 ëª©í‘œ (ì˜ˆ: 20ê°œ)
    p6: number;             // Part 6 ëª©í‘œ (ì˜ˆ: 12ê°œ)
    p7_single: number;      // Part 7 Single ëª©í‘œ (ì˜ˆ: 25ê°œ)
    p7_double: number;      // Part 7 Double ëª©í‘œ (ì˜ˆ: 18ê°œ)
  };
  
  updatedAt: Timestamp;
}
```

### 3.2 íŒŒíŠ¸ë³„ ì„±ì·¨ë„ ë°ì´í„°

```typescript
interface PartGoal {
  part: 'p1' | 'p2' | 'p3' | 'p4' | 'p5' | 'p6' | 'p7_single' | 'p7_double';
  
  targetScore: number;      // ëª©í‘œ ì •ë‹µ ìˆ˜ (ì˜ˆ: Part 5 â†’ 20ê°œ)
  averageScore: number;     // í‰ê·  ì ìˆ˜ (ì™„ë£Œí•œ ì‹¤ì „ íšŒì°¨ë§Œ)
  latestScore: number;      // ë§ˆì§€ë§‰ ì‹¤ì „ íšŒì°¨ ê²°ê³¼
  
  gap: number;              // ëª©í‘œ ëŒ€ë¹„ ë¶€ì¡±ë¶„ (targetScore - averageScore)
  gapPercentage: number;    // ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥  (averageScore / targetScore * 100)
  
  completedTests: number;   // ì™„ë£Œí•œ ì‹¤ì „ íšŒì°¨ ìˆ˜ (1~10íšŒ)
  testScores: number[];     // ê° íšŒì°¨ë³„ ì ìˆ˜ ë°°ì—´
}
```

### 3.3 ì·¨ì•½ì  ë¶„ì„ ê²°ê³¼

```typescript
interface WeaknessAnalysisResult {
  userId: string;
  
  // ì „ì²´ ëª©í‘œ ì •ë³´
  targetTotalScore: number;
  targetLC: number;
  targetRC: number;
  
  // íŒŒíŠ¸ë³„ ìƒì„¸ í˜„í™©
  partGoals: PartGoal[];
  
  // LC/RC ì„±ì·¨ë„
  lcAchievement: number;     // LC ì „ì²´ ë‹¬ì„±ë¥  (%)
  rcAchievement: number;     // RC ì „ì²´ ë‹¬ì„±ë¥  (%)
  
  // ê°€ì¥ ì·¨ì•½í•œ íŒŒíŠ¸ (ëª©í‘œ ëŒ€ë¹„ ê°­ì´ ê°€ì¥ í° íŒŒíŠ¸) - ì‹¤ì „ íšŒì°¨ ê¸°ì¤€
  weakestPart: {
    part: string;
    gap: number;                    // ëª©í‘œ ëŒ€ë¹„ ë¶€ì¡±ë¶„
    gapPercentage: number;          // ë‹¬ì„±ë¥ 
    reason: string;                 // ì¶”ì²œ ì´ìœ  ë©”ì‹œì§€
  };
  
  // ë³´ì¶© ê³¼ì œ ë°ì´í„° (ê¸ˆìš”ì¼ ì¼ê´„ ìƒì„±ìš©) - ì „ì²´ í•™ìŠµ ë°ì´í„° ê¸°ì¤€
  supplementaryHomework: {
    scheduledDate: Date;            // ë‹¤ìŒ ê¸ˆìš”ì¼
    weeklyIncorrect: {              // ì¼ì£¼ì¼ê°„ í‹€ë¦° ë¬¸ì œ (ëª¨ë“  í•™ìŠµ)
      part: string;
      classification: string;
      count: number;
    }[];
    recommendedTypes: {             // 3íšŒ ì´ìƒ í‹€ë¦° ìœ í˜•
      classification: string;
      count: number;
      label: string;
    }[];
  };
  
  // ë°ì´í„° ìˆ˜ì§‘ ê¸°ê°„
  actualTestDataPeriod: {         // ì‹¤ì „ íšŒì°¨ ë°ì´í„° (ì „ì²´ ê¸°ê°„)
    start: Date;
    end: Date;
  };
  
  weeklyDataPeriod: {             // ë³´ì¶© ê³¼ì œìš© ì¼ì£¼ì¼ ë°ì´í„°
    start: Date;                  // ì§€ë‚œ ê¸ˆìš”ì¼
    end: Date;                    // ì´ë²ˆ ê¸ˆìš”ì¼
  };
  
  analyzedAt: Timestamp;
}
```

---

## 4. ë¶„ì„ ë¡œì§ ì„¤ê³„

### 4.1 ì „ì²´ í”Œë¡œìš°

```
1. ì‚¬ìš©ì ëª©í‘œ ê°€ì ¸ì˜¤ê¸° (users ì»¬ë ‰ì…˜)
   â†“
2. ìµœê·¼ 1ì£¼ì¼ í•™ìŠµ ë°ì´í„° ìˆ˜ì§‘ (Manager_Results)
   â†“
3. íŒŒíŠ¸ë³„ í‰ê· /ìµœê·¼ ì ìˆ˜ ê³„ì‚°
   â†“
4. ëª©í‘œ ëŒ€ë¹„ ê°­ ê³„ì‚° (ê° íŒŒíŠ¸)
   â†“
5. ê°€ì¥ ê°­ì´ í° íŒŒíŠ¸ ì„ ì • (ì·¨ì•½ íŒŒíŠ¸)
   â†“
6. ì·¨ì•½ íŒŒíŠ¸ì˜ í‹€ë¦° ë¬¸ì œ ìˆ˜ì§‘ ë° classification ë¶„ì„
   â†“
7. LC/RC ì „ì²´ ì„±ì·¨ë„ ê³„ì‚°
   â†“
8. ê²°ê³¼ ë°˜í™˜ (WeaknessAnalysisResult)
```

### 4.2 í•µì‹¬ í•¨ìˆ˜ ì„¤ê³„

#### A. ë©”ì¸ ë¶„ì„ í•¨ìˆ˜

```typescript
const analyzeWeaknessWithGoalGap = async (
  userId: string
): Promise<WeaknessAnalysisResult> => {
  // 1. ì‚¬ìš©ì ëª©í‘œ ê°€ì ¸ì˜¤ê¸°
  const userGoals = await getUserGoals(userId);
  
  // 2. ìµœê·¼ 1ì£¼ì¼ ë°ì´í„° ìˆ˜ì§‘
  const oneWeekAgo = new Date();
  oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
  
  const weeklyResults = await getWeeklyResults(userId, oneWeekAgo);
  
  // 3. íŒŒíŠ¸ë³„ í†µê³„ ê³„ì‚°
  const partStats = calculatePartStats(weeklyResults);
  
  // 4. ëª©í‘œ ëŒ€ë¹„ ê°­ ê³„ì‚°
  const partGoals = calculatePartGoals(userGoals.partTargets, partStats);
  
  // 5. ê°€ì¥ ì·¨ì•½í•œ íŒŒíŠ¸ ì°¾ê¸°
  const weakestPart = findWeakestPart(partGoals, weeklyResults);
  
  // 6. LC/RC ì„±ì·¨ë„ ê³„ì‚°
  const { lcAchievement, rcAchievement } = calculateSectionAchievement(partGoals);
  
  return {
    userId,
    targetTotalScore: userGoals.targetScore,
    targetLC: userGoals.targetLC,
    targetRC: userGoals.targetRC,
    partGoals,
    lcAchievement,
    rcAchievement,
    weakestPart,
    weeklyDataPeriod: {
      start: oneWeekAgo,
      end: new Date()
    },
    analyzedAt: new Date()
  };
};
```

#### B. íŒŒíŠ¸ë³„ í†µê³„ ê³„ì‚°

```typescript
const calculatePartStats = (results: any[]): Record<string, PartStat> => {
  const stats: Record<string, { scores: number[], latest: number, attempts: number }> = {};
  
  results.forEach((result, index) => {
    const partKey = mapToPartKey(result); // p1, p2, ... p7_double
    
    if (!stats[partKey]) {
      stats[partKey] = { scores: [], latest: 0, attempts: 0 };
    }
    
    const correctCount = calculateCorrectCount(result);
    stats[partKey].scores.push(correctCount);
    stats[partKey].attempts += 1;
    
    // ì²« ë²ˆì§¸ ê²°ê³¼ê°€ ìµœì‹  (orderBy timestamp desc)
    if (index === 0 || stats[partKey].latest === 0) {
      stats[partKey].latest = correctCount;
    }
  });
  
  return stats;
};
```

#### C. ëª©í‘œ ëŒ€ë¹„ ê°­ ê³„ì‚°

```typescript
const calculatePartGoals = (
  targets: Record<string, number>,
  stats: Record<string, PartStat>
): PartGoal[] => {
  const partGoals: PartGoal[] = [];
  
  for (const [partKey, target] of Object.entries(targets)) {
    const stat = stats[partKey] || { scores: [], latest: 0, attempts: 0 };
    
    const average = stat.scores.length > 0
      ? stat.scores.reduce((a, b) => a + b, 0) / stat.scores.length
      : 0;
    
    const gap = target - average;
    const gapPercentage = target > 0 ? (average / target) * 100 : 0;
    
    partGoals.push({
      part: partKey as any,
      targetScore: target,
      averageScore: Math.round(average * 10) / 10, // ì†Œìˆ˜ì  1ìë¦¬
      latestScore: stat.latest,
      gap: Math.round(gap * 10) / 10,
      gapPercentage: Math.round(gapPercentage),
      totalAttempts: stat.attempts
    });
  }
  
  return partGoals;
};
```

#### D. ê°€ì¥ ì·¨ì•½í•œ íŒŒíŠ¸ ì°¾ê¸°

```typescript
const findWeakestPart = (
  partGoals: PartGoal[],
  weeklyResults: any[]
): WeaknessAnalysisResult['weakestPart'] => {
  // ê°­ì´ ê°€ì¥ í° íŒŒíŠ¸ ì°¾ê¸°
  const sorted = [...partGoals].sort((a, b) => b.gap - a.gap);
  const weakest = sorted[0];
  
  if (!weakest || weakest.gap <= 0) {
    return {
      part: 'none',
      gap: 0,
      gapPercentage: 100,
      incorrectQuestions: [],
      topWeakClassifications: []
    };
  }
  
  // í•´ë‹¹ íŒŒíŠ¸ì˜ í‹€ë¦° ë¬¸ì œ ìˆ˜ì§‘
  const incorrectQuestions = weeklyResults
    .filter(r => mapToPartKey(r) === weakest.part)
    .flatMap(r => r.incorrectQuestions || [])
    .map(q => ({
      questionId: q.id || q.questionId,
      classification: q.classification || 'Unknown',
      timestamp: r.timestamp
    }));
  
  // classification ì§‘ê³„
  const classificationCounts: Record<string, number> = {};
  incorrectQuestions.forEach(q => {
    const cls = q.classification;
    if (cls !== 'Unknown') {
      classificationCounts[cls] = (classificationCounts[cls] || 0) + 1;
    }
  });
  
  // Top 3 ì·¨ì•½ ìœ í˜•
  const topWeakClassifications = Object.entries(classificationCounts)
    .map(([cls, count]) => ({
      classification: cls,
      count,
      label: getClassificationLabel(cls)
    }))
    .sort((a, b) => b.count - a.count)
    .slice(0, 3);
  
  return {
    part: weakest.part,
    gap: weakest.gap,
    gapPercentage: weakest.gapPercentage,
    incorrectQuestions,
    topWeakClassifications
  };
};
```

#### E. LC/RC ì„±ì·¨ë„ ê³„ì‚°

```typescript
const calculateSectionAchievement = (partGoals: PartGoal[]) => {
  const lcParts = ['p1', 'p2', 'p3', 'p4'];
  const rcParts = ['p5', 'p6', 'p7_single', 'p7_double'];
  
  const calcAchievement = (parts: string[]) => {
    const filtered = partGoals.filter(p => parts.includes(p.part));
    const totalTarget = filtered.reduce((sum, p) => sum + p.targetScore, 0);
    const totalAverage = filtered.reduce((sum, p) => sum + p.averageScore, 0);
    return totalTarget > 0 ? Math.round((totalAverage / totalTarget) * 100) : 0;
  };
  
  return {
    lcAchievement: calcAchievement(lcParts),
    rcAchievement: calcAchievement(rcParts)
  };
};
```

---

## 5. UI/UX ì„¤ê³„

### 5.1 ë‚˜ì˜ ëª©í‘œ ìƒì„¸ í˜„í™© (ë©”ì¸ ëŒ€ì‹œë³´ë“œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ë‚˜ì˜ ëª©í‘œ ìƒì„¸ í˜„í™©                                          â”‚
â”‚                                                                  â”‚
â”‚  ğŸ¯ ì „ì²´ ëª©í‘œ: 800ì  (LC 450 / RC 350)                          â”‚
â”‚  ğŸ“… ë¶„ì„ ê¸°ê°„: 2026-01-14 ~ 2026-01-21 (ìµœê·¼ 1ì£¼ì¼)            â”‚
â”‚                                                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  ğŸ’™ LC ì„±ì·¨ë„: 85% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Part â”‚ ëª©í‘œ â”‚ í‰ê·  â”‚ ìµœê·¼ â”‚ ê°­   â”‚ ë‹¬ì„±ë¥  â”‚ ì‹œë„ íšŸìˆ˜ â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ P1   â”‚  5   â”‚  5.0 â”‚  6   â”‚  0.0 â”‚ 100% âœ…â”‚    8íšŒ    â”‚    â”‚
â”‚  â”‚ P2   â”‚ 20   â”‚ 18.0 â”‚ 19   â”‚ -2.0 â”‚  90% âš ï¸â”‚   10íšŒ    â”‚    â”‚
â”‚  â”‚ P3   â”‚ 30   â”‚ 27.0 â”‚ 28   â”‚ -3.0 â”‚  90% âš ï¸â”‚    7íšŒ    â”‚    â”‚
â”‚  â”‚ P4   â”‚ 25   â”‚ 22.0 â”‚ 23   â”‚ -3.0 â”‚  88% âš ï¸â”‚    6íšŒ    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  ğŸ’œ RC ì„±ì·¨ë„: 65% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Part â”‚ ëª©í‘œ â”‚ í‰ê·  â”‚ ìµœê·¼ â”‚ ê°­   â”‚ ë‹¬ì„±ë¥  â”‚ ì‹œë„ íšŸìˆ˜ â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ P5   â”‚ 20   â”‚ 10.0 â”‚ 12   â”‚-10.0 â”‚  50% ğŸ”´â”‚   12íšŒ    â”‚ â† ê°€ì¥ ì·¨ì•½!
â”‚  â”‚ P6   â”‚ 12   â”‚  9.0 â”‚ 10   â”‚ -3.0 â”‚  75% âš ï¸â”‚    5íšŒ    â”‚    â”‚
â”‚  â”‚ P7 S â”‚ 25   â”‚ 20.0 â”‚ 21   â”‚ -5.0 â”‚  80% âš ï¸â”‚    8íšŒ    â”‚    â”‚
â”‚  â”‚ P7 D â”‚ 18   â”‚ 14.0 â”‚ 15   â”‚ -4.0 â”‚  78% âš ï¸â”‚    4íšŒ    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  ğŸš¨ AI ë¶„ì„ ê²°ê³¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ê°€ì¥ ì·¨ì•½í•œ íŒŒíŠ¸: Part 5                                â”‚    â”‚
â”‚  â”‚ â€¢ ëª©í‘œ ëŒ€ë¹„: -10ê°œ ë¶€ì¡± (ë‹¬ì„±ë¥  50%)                    â”‚    â”‚
â”‚  â”‚ â€¢ 1ì£¼ì¼ê°„ í‹€ë¦° ë¬¸ì œ: 15ê°œ                               â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚ ì£¼ìš” ì·¨ì•½ ìœ í˜•:                                          â”‚    â”‚
â”‚  â”‚ 1. ë™ì‚¬ í˜•íƒœ (v2) - 6íšŒ ì˜¤ë‹µ                            â”‚    â”‚
â”‚  â”‚ 2. í’ˆì‚¬ ìë¦¬ (n1) - 4íšŒ ì˜¤ë‹µ                            â”‚    â”‚
â”‚  â”‚ 3. ì „ì¹˜ì‚¬ (pr) - 3íšŒ ì˜¤ë‹µ                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  [ğŸ“ Part 5 ì§‘ì¤‘ ë³´ê°• ê³¼ì œ ìƒì„±í•˜ê¸°] ğŸ¤–                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ìƒ‰ìƒ ì½”ë“œ ë° ì•„ì´ì½˜

| ë‹¬ì„±ë¥  | ìƒ‰ìƒ | ì•„ì´ì½˜ | ì˜ë¯¸ |
|--------|------|--------|------|
| 90% ì´ìƒ | ì´ˆë¡ìƒ‰ (Green) | âœ… | ëª©í‘œ ë‹¬ì„± |
| 70% ~ 89% | ì£¼í™©ìƒ‰ (Orange) | âš ï¸ | ì£¼ì˜ í•„ìš” |
| 70% ë¯¸ë§Œ | ë¹¨ê°„ìƒ‰ (Red) | ğŸ”´ | ì§‘ì¤‘ ë³´ê°• í•„ìš” |

---

## 6. ë³´ì¶© ê³¼ì œ ìƒì„± ë¡œì§

### 6.1 ê³¼ì œ ìƒì„± í”Œë¡œìš°

```
1. ê°€ì¥ ì·¨ì•½í•œ íŒŒíŠ¸ í™•ì¸ (weakestPart)
   â†“
2. í•´ë‹¹ íŒŒíŠ¸ì˜ í‹€ë¦° ë¬¸ì œ classification ì§‘ê³„
   â†“
3. ê°€ì¥ ë§ì´ í‹€ë¦° ìœ í˜• Top 3 ì„ ì •
   â†“
4. ê° ìœ í˜•ë³„ë¡œ ë¬¸ì œ ì€í–‰ì—ì„œ ë¬¸ì œ ì„ íƒ
   â†“
5. ì´ 10~20ë¬¸ì œë¡œ ê³¼ì œ êµ¬ì„±
   â†“
6. Firestoreì— ê³¼ì œ ì €ì¥ (type: 'weakness_review')
```

### 6.2 í•¨ìˆ˜ ì„¤ê³„

```typescript
const generateSupplementaryHomework = async (
  userId: string,
  analysis: WeaknessAnalysisResult
) => {
  const weakPart = analysis.weakestPart;
  
  if (weakPart.part === 'none' || weakPart.gap <= 0) {
    throw new Error('ì·¨ì•½í•œ íŒŒíŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤. ëª¨ë“  ëª©í‘œë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤!');
  }
  
  // 1. ë¬¸ì œ ìˆ˜ ê²°ì • (ê°­ì˜ 50%, ìµœì†Œ 10ê°œ, ìµœëŒ€ 20ê°œ)
  const questionCount = Math.min(20, Math.max(10, Math.ceil(weakPart.gap * 0.5)));
  
  // 2. ìœ í˜•ë³„ ë¬¸ì œ ë°°ë¶„
  const distribution = distributeQuestionsByClassification(
    weakPart.topWeakClassifications,
    questionCount
  );
  
  // 3. ë¬¸ì œ ì€í–‰ì—ì„œ ì„ íƒ
  const selectedQuestions = [];
  for (const [classification, count] of Object.entries(distribution)) {
    const questions = await getQuestionsByClassification(weakPart.part, classification);
    
    // ì´ë¯¸ í‘¼ ë¬¸ì œ ì œì™¸
    const solvedIds = new Set(
      analysis.weeklyDataPeriod.start 
        ? await getSolvedQuestionIds(userId, weakPart.part)
        : []
    );
    
    const available = questions.filter(q => !solvedIds.has(q.id));
    const selected = shuffleArray(available).slice(0, count);
    selectedQuestions.push(...selected);
  }
  
  // 4. ê³¼ì œ ìƒì„±
  const homework = {
    studentId: userId,
    type: 'weakness_review',
    title: `${weakPart.part.toUpperCase()} ì§‘ì¤‘ ë³´ê°• (ëª©í‘œ ëŒ€ë¹„ -${weakPart.gap}ê°œ)`,
    description: `ìµœê·¼ 1ì£¼ì¼ ë¶„ì„ ê²°ê³¼, ${weakPart.part.toUpperCase()}ì—ì„œ ëª©í‘œ ëŒ€ë¹„ ${weakPart.gap}ê°œ ë¶€ì¡±í•©ë‹ˆë‹¤. ì£¼ìš” ì·¨ì•½ ìœ í˜•ì„ ì§‘ì¤‘ í›ˆë ¨í•˜ì„¸ìš”.`,
    targetPart: weakPart.part,
    questions: selectedQuestions,
    dueDate: addDays(new Date(), 7),
    createdAt: new Date(),
    metadata: {
      analysisId: analysis.analyzedAt,
      gap: weakPart.gap,
      gapPercentage: weakPart.gapPercentage,
      topWeakClassifications: weakPart.topWeakClassifications
    }
  };
  
  await createHomework(homework);
  
  return homework;
};

const distributeQuestionsByClassification = (
  topClassifications: { classification: string; count: number }[],
  totalQuestions: number
): Record<string, number> => {
  const distribution: Record<string, number> = {};
  const totalWrong = topClassifications.reduce((sum, c) => sum + c.count, 0);
  
  topClassifications.forEach(cls => {
    const ratio = cls.count / totalWrong;
    distribution[cls.classification] = Math.max(1, Math.round(totalQuestions * ratio));
  });
  
  return distribution;
};
```

---

## 7. êµ¬í˜„ ê³„íš

### Phase 1: ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„ ë¡œì§ (1ì£¼)

- [ ] `getUserGoals` í•¨ìˆ˜ êµ¬í˜„ (Firestore users ì»¬ë ‰ì…˜)
- [ ] `getWeeklyResults` í•¨ìˆ˜ êµ¬í˜„ (1ì£¼ì¼ ë°ì´í„° í•„í„°ë§)
- [ ] `calculatePartStats` í•¨ìˆ˜ êµ¬í˜„
- [ ] `calculatePartGoals` í•¨ìˆ˜ êµ¬í˜„
- [ ] `findWeakestPart` í•¨ìˆ˜ êµ¬í˜„
- [ ] `calculateSectionAchievement` í•¨ìˆ˜ êµ¬í˜„
- [ ] `analyzeWeaknessWithGoalGap` ë©”ì¸ í•¨ìˆ˜ í†µí•©
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

### Phase 2: UI êµ¬í˜„ (1ì£¼)

- [ ] ë‚˜ì˜ ëª©í‘œ ìƒì„¸ í˜„í™© í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸
- [ ] LC/RC ì„±ì·¨ë„ í”„ë¡œê·¸ë ˆìŠ¤ ë°”
- [ ] íŒŒíŠ¸ë³„ ë‹¬ì„±ë¥  ìƒ‰ìƒ ì½”ë“œ ì ìš©
- [ ] ê°€ì¥ ì·¨ì•½í•œ íŒŒíŠ¸ í•˜ì´ë¼ì´íŠ¸
- [ ] AI ë¶„ì„ ê²°ê³¼ ì¹´ë“œ
- [ ] ë°˜ì‘í˜• ë””ìì¸ ì ìš©

### Phase 3: ë³´ì¶© ê³¼ì œ ìƒì„± (1ì£¼)

- [ ] `generateSupplementaryHomework` í•¨ìˆ˜ êµ¬í˜„
- [ ] `getQuestionsByClassification` í•¨ìˆ˜ êµ¬í˜„
- [ ] `distributeQuestionsByClassification` í•¨ìˆ˜ êµ¬í˜„
- [ ] ê³¼ì œ ìƒì„± UI (ë²„íŠ¼ ë° ëª¨ë‹¬)
- [ ] ê³¼ì œ ìƒì„± í›„ ì•Œë¦¼ ê¸°ëŠ¥

### Phase 4: ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•© ë° ë§ˆì´ê·¸ë ˆì´ì…˜ (1ì£¼)

- [ ] ê¸°ì¡´ `weaknessService.ts` ëŒ€ì²´
- [ ] ê¸°ì¡´ `/weakness/dashboard` í˜ì´ì§€ ì—…ë°ì´íŠ¸
- [ ] ê´€ë¦¬ì í˜ì´ì§€ ì—°ë™
- [ ] ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (í•„ìš” ì‹œ)
- [ ] ì „ì²´ í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì •

---

## ğŸ“ ë‹¤ë“¬ì–´ì•¼ í•  ë¶€ë¶„ (TODO)

### 1. ë°ì´í„° ìˆ˜ì§‘ ê¸°ê°„
- [ ] 1ì£¼ì¼ì´ ì ì ˆí•œê°€? (2ì£¼ì¼, 1ê°œì›” ì˜µì…˜ ê³ ë ¤)
- [ ] ë°ì´í„°ê°€ ë¶€ì¡±í•œ ì‹ ê·œ í•™ìƒ ì²˜ë¦¬ ë°©ë²•

### 2. ëª©í‘œ ì„¤ì • ë°©ì‹
- [ ] í•™ìƒì´ ì§ì ‘ ì„¤ì •? ê°•ì‚¬ê°€ ì„¤ì •?
- [ ] ëª©í‘œ ìˆ˜ì • ì£¼ê¸° ë° ê¶Œí•œ

### 3. ê°­ ê³„ì‚° ë°©ì‹
- [ ] í‰ê·  vs ìµœê·¼ ì ìˆ˜ ì¤‘ ì–´ëŠ ê²ƒì„ ê¸°ì¤€ìœ¼ë¡œ?
- [ ] ì‹œë„ íšŸìˆ˜ê°€ ì ì€ íŒŒíŠ¸ ì²˜ë¦¬ (ê°€ì¤‘ì¹˜ ì ìš©?)

### 4. ë³´ì¶© ê³¼ì œ ë‚œì´ë„
- [ ] í‹€ë¦° ë¬¸ì œì™€ ë™ì¼í•œ ë‚œì´ë„? ë” ì‰¬ìš´ ë¬¸ì œ?
- [ ] ë¬¸ì œ ì€í–‰ ë¶€ì¡± ì‹œ ëŒ€ì‘ ë°©ì•ˆ

### 5. UI/UX ê°œì„ 
- [ ] ëª¨ë°”ì¼ ìµœì í™”
- [ ] ê·¸ë˜í”„/ì°¨íŠ¸ ì¶”ê°€ (ì‹œê³„ì—´ ë³€í™” ì¶”ì´)
- [ ] í•™ìŠµ ë™ê¸° ë¶€ì—¬ ìš”ì†Œ (ë°°ì§€, ê²©ë ¤ ë©”ì‹œì§€)

### 6. ì„±ëŠ¥ ìµœì í™”
- [ ] ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ì¿¼ë¦¬ ìµœì í™”
- [ ] ìºì‹± ì „ëµ

---

## ğŸ“Œ ì°¸ê³  ì‚¬í•­

- ê¸°ì¡´ `pattern_classification.md`ì˜ ë¶„ë¥˜ ì²´ê³„ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©
- `Manager_Results` ì»¬ë ‰ì…˜ êµ¬ì¡°ëŠ” ë³€ê²½í•˜ì§€ ì•ŠìŒ
- ê¸°ì¡´ ì˜¤ë‹µ ë¶„ì„ ê¸°ëŠ¥ì€ ë³´ì¡° ì§€í‘œë¡œ í™œìš© ê°€ëŠ¥

---

**ë‹¤ìŒ ë‹¨ê³„**: ìœ„ TODO í•­ëª©ë“¤ì„ ê²€í† í•˜ê³  êµ¬ì²´í™”í•œ í›„ Phase 1 êµ¬í˜„ ì‹œì‘
