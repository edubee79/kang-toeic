# [기획안] 실전 모의고사 활용 하프테스트(100문항) 2회 구성안

이 문서는 기존 200문항 실전 모의고사 1회분 데이터를 활용하여, 난이도 밸런스가 완벽한 **하프테스트(100문항) 2회분**을 만들기 위한 기획안입니다.

---

## 1. 기본 원칙
*   **문항 수**: 회당 100문항 (LC 50, RC 50)
*   **번호 체계**: 기존 1~200번 번호를 그대로 유지 (데이터 필터링 방식)
*   **난이도 분배**: 각 파트별 전/후반부 난이도를 골고루 섞어 변별력 확보
*   **시간 설정**: **RC 35분 고정** (실전 압박 훈련 및 레벨 측정 최적화)
*   **분석 핵심**: 시간 소요(Time Spent) + 취약 유형(Metadata) + 관리자 가이드(Coaching Tip)

---

## 2. LC 파트 구성 (50문항)

| 파트 | 선택 기준 | **하프테스트 A (1회)** | **하프테스트 B (2회)** | 비고 |
| :--- | :--- | :--- | :--- | :--- |
| **Part 1** | 홀/짝 교차 | 1, 3, 5번 (3문항) | 2, 4, 6번 (3문항) | |
| **Part 2** | 홀/짝 교차 | 7, 9, 11, ..., 31 (13문항) | 8, 10, 12, ..., 30 (12문항) | A회 1문항 더 많음 |
| **Part 3** | 세트 교차 | **6개 세트** (18문항) | **7개 세트** (21문항) | B회 1세트 더 많음 |
| **Part 4** | 세트 교차 | 5개 세트 (15문항) | 5개 세트 (15문항) | 10개 세트 절반 |
| **합계** | | **49문항 + 조정(+1)** | **51문항 - 조정(-1)** | **회당 50문항** |

### [LC 상세 번호 리스트]
*   **하프 A (50문항)**: 
    *   **P1**: 1, 3, 5
    *   **P2**: 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31 + **8번**(조정용)
    *   **P3**: Set 1, 3, 5, 7, 9, 11 (32~34, 38~40, 44~46, 50~52, 56~58, 62~64)
    *   **P4**: Set 1, 3, 5, 7, 9 (71~73, 77~79, 83~85, 89~91, 95~97)
*   **하프 B (50문항)**:
    *   **P1**: 2, 4, 6
    *   **P2**: 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30 (11문항)
    *   **P3**: Set 2, 4, 6, 8, 10, 12, 13 (35~37, 41~43, 47~49, 53~55, 59~61, 65~67, 68~70)
    *   **P4**: Set 2, 4, 6, 8, 10 (74~76, 80~82, 86~88, 92~94, 98~100)

---

## 3. RC 파트 구성 (50문항)

| 파트 | 선택 기준 | **하프테스트 A (1회)** | **하프테스트 B (2회)** | 비고 |
| :--- | :--- | :--- | :--- | :--- |
| **Part 5** | 홀/짝 교차 | 15문항 (홀수) | 15문항 (짝수) | |
| **Part 6** | 세트 교차 | 2개 세트 (8문항) | 2개 세트 (8문항) | 4개 세트 중 절반 |
| **Part 7** | 지문 구성 | **싱글(17) + 더블(5) + 트리플(5)** | **싱글(12) + 더블(5) + 트리플(10)** | 트리플 개수 조정 |
| **합계** | | **50문항** | **50문항** | |

### [RC 상세 번호 리스트]
*   **하프 A (50문항)**:
    *   **P5**: 101, 103, 105, 107, 109, 111, 113, 115, 117, 119, 121, 123, 125, 127, 129 (15개)
    *   **P6**: Set 1, 3 (131-134, 139-142)
    *   **P7 Single**: 147-152(6), 161-165(5), 169-174(6) -> 총 17문항
    *   **P7 Double**: Set 1 (176-180)
    *   **P7 Triple**: Set 1 (186-190)
*   **하프 B (50문항)**:
    *   **P5**: 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128, 130 (15개)
    *   **P6**: Set 2, 4 (135-138, 143-146)
    *   **P7 Single**: 153-157(5), 166-168(3), 175(1), 158-160(3) -> 총 12문항
    *   **P7 Double**: Set 2 (181-185)
    *   **P7 Triple**: Set 2, 3 (191-195, 196-200)

---

## 4. RC 50문항 페이지별 상세 배치 (Spread Map)

| Spread | Part | 왼쪽 페이지 (Left) | 오른쪽 페이지 (Right) | UI 가이드 |
| :--- | :--- | :--- | :--- | :--- |
| **Spread 0** | **P5** | 101~115번 (홀수 8문항) | 117~129번 (홀수 7문항) | 좌우 2단 컬럼 |
| **Spread 1** | **P6** | P6 세트 1 (지문+문제) | P6 세트 2 (지문+문제) | 원본 2단 레이아웃 |
| **Spread 2** | **P7** | P7 단일 세트 1 | P7 단일 세트 2 | 원본 2단 레이아웃 |
| **Spread 3** | **P7** | P7 단일 세트 3 | P7 단일 세트 4 | 원본 2단 레이아웃 |
| **Spread 4** | **P7** | P7 단일 세트 5 | P7 단일 세트 6 | 원본 2단 레이아웃 |
| **Spread 5** | **P7** | **Double** 지문 (2개) | Double 문제 (5문항) | 더블 전용 UI |
| **Spread 6** | **P7** | **Triple** 지문 (1~2) | Triple 지문 3 + 문제 5 | 트리플 전용 UI |

---

## 5. 시간 관리 분석 로직 (RC 35분 기준)

각 파트가 종료될 때의 '남은 시간'을 체크하여 학생의 현재 페이스를 진단합니다.

| 분석 지표 | 하프 A 목표 (남은시간) | 하프 B 목표 (남은시간) | 진단 의미 |
| :--- | :---: | :---: | :--- |
| **Part 5 종료** | 28:30 (6.5분 소요) | 28:30 (6.5분 소요) | 자동반사적 문법/어휘력 측정 |
| **Part 6 종료** | 23:00 (5.5분 소요) | 23:00 (5.5분 소요) | 문맥 파악 및 시간 관리 능력 |
| **Part 7 Single** | 10:30 (12.5분 소요) | 15:00 (8.0분 소요) | 핵심 정보 검색(Scanning) 속도 |
| **P7 D/T (최종)** | 00:00 (10.5분 소요) | 00:00 (15.0분 소요) | 고난도 연계 지문 처리 능력 |

---

## 5. 상세 결과 리포트 (Student & Admin)

### ① 학생용 리포트 항목
1.  **종합 성적**: 환산 점수 + 백분율 + 현재 레벨(입문/중급/상급)
2.  **시간 분석 차트**: 파트별 '목표 시간' vs '실제 소요 시간' 비교 그래프
    *   *메시지 예*: "Part 5에서 시간을 3분 초과하여 뒤쪽 트리플 지문을 풀 시간이 부족했습니다."
3.  **지능형 취약 분석**: 문제에 설정된 Metadata를 기반으로 분석
    *   *문제유형*: "시제/수일치 문제 정답률이 40%로 매우 낮습니다."
    *   *지문유형*: "기사(Article) 지문만 나오면 오답률이 급격히 올라갑니다."
4.  **Action Plan**: 점수대별 맞춤형 공부 방향 제시

### ② 관리자용 상세 데이터 (Admin)
*   **학생 상세 현황**: 하프테스트 클릭 시 위 학생용 리포트를 그대로 열람 가능
*   **코칭 가이드 자동 생성**:
    *   "이 학생은 RC 하프에서 35분 중 8분이 부족합니다. 기초 문법 자동반사 훈련이 시급합니다."
    *   "LC Part 2 우회적 응답 오답률이 높습니다. 쉐도잉 과제를 추천하세요."
*   **전체 반 통계**: 반별 평균 소요 시간 및 파트별 정답률 비교 데이터 제공

---

## 6. 시스템 구현 가이드

### ① 데이터 확장
*   `MockTestAttempt` 모델에 `timeLogs` (각 파트별 소요 초)와 `analysis` 필드 추가.
*   기존 Metadata(type, category 등)를 리포트 생성 로직에 연동.

### ② UI/UX
*   시험 중: 파트가 넘어갈 때 백그라운드에서 현재 시간 자동 캡처.
*   시험 후: 화려하고 직관적인 대시보드 형태의 결과창 노출.

---

## 7. 단계별 구현 계획 (Implementation Roadmap)

사용자의 요청에 따라 기존 시스템의 UI와 로직을 최대한 재사용하며 아래 순서로 진행합니다.

### **[1단계] 데이터 구축 (Data Preparation)**
*   **Task 1.1**: `src/data/mock/half_set9_a.ts` 생성 (기획안 A회 번호 기반)
*   **Task 1.2**: `src/data/mock/half_set9_b.ts` 생성 (기획안 B회 번호 기반)
*   **Task 1.3**: 기 구축된 Metadata(유형, 지문종류) 누락 여부 검토 및 보강

### **[2단계] 시험 엔진 및 타이머 설정 (Test Engine)**
*   **Task 2.1**: **LC 타이머 제외** - 기존처럼 음원 기반으로 진행
*   **Task 2.2**: **RC 타이머 35분 적용** - RC 파트(Part 5) 진입 시 35분 카운트다운 시작
*   **Task 2.3**: **100문항 대응 UI** - 기존 200문항 UI에서 문제 번호 및 마킹판을 100개로 자동 조정하는 로직 추가
*   **Task 2.4**: **시간 기록 시스템** - 파트 전환(Next 클릭) 시점의 남은 시간을 Firestore에 기록하는 `timeLogs` 로직 구현

### **[3단계] 결과 분석 및 리포트 (Analysis & Report)**
*   **Task 3.1**: 파트별 정답률 + 시간 소요분을 결합한 **진단 알고리즘** 개발
*   **Task 3.2**: 학생용 상세 결과 리포트 화면 구현 (그래프 및 코멘트)
*   **Task 3.3**: 관리자 상세 페이지 연동 (관리자가 학생의 시간 부족분을 즉시 파악 가능하도록)

### **[4단계] 로비 및 접근성 (Access)**
*   **Task 4.1**: 모의고사 로비 페이지(`app/mock-test/page.tsx`)에 '하프테스트' 탭 또는 섹션 추가
*   **Task 4.2**: 하프테스트 전용 `testId` (예: `half_9a`, `half_9b`) 라우팅 설정

---

현재 **[1단계] 데이터 구축**부터 시작합니다.
